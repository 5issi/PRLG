[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"components\":{\"template.quiz-mrbool-form.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/components/template.quiz-mrbool-form.js                                            //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\n\nTemplate.__checkName(\"formQuiz\");\nTemplate[\"formQuiz\"] = new Template(\"Template.formQuiz\", (function() {\n  var view = this;\n  return HTML.Raw('<form> \\n\\t\\t<div class=\"form-group\"> \\n\\t\\t\\t<label>Question</label> \\n\\t\\t\\t<input type=\"text\" name=\"question\" class=\"form-control\" placeholder=\"Your Question\"> \\n\\t\\t</div> \\n\\t\\t<div class=\"form-group\"> \\n\\t\\t\\t<label>Opção #1</label>\\n\\t\\t\\t<input type=\"text\" name=\"option1\" class=\"form-control\" placeholder=\"Option #1\"> \\n\\t\\t\\t</div> \\n\\t\\t\\t<div class=\"form-group\"> \\n\\t\\t\\t\\t<label>Option #2</label> \\n\\t\\t\\t\\t<input type=\"text\" name=\"option2\" class=\"form-control\" placeholder=\"Option #2\"> \\n\\t\\t\\t</div> \\n\\t\\t\\t<div class=\"form-group\"> \\n\\t\\t\\t\\t<label>Option #3</label> \\n\\t\\t\\t\\t<input type=\"text\" name=\"option3\" class=\"form-control\" placeholder=\"Option #3\">\\n\\t\\t\\t\\t </div> \\n\\n\\t\\t\\t\\t <button type=\"submit\" class=\"btn btn-lg btn-primary btn-block\">Create Quiz</button>\\n\\t\\t\\t\\t  </form>');\n}));\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.quiz-mrbool.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/components/template.quiz-mrbool.js                                                 //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\n\nTemplate.__checkName(\"quiz\");\nTemplate[\"quiz\"] = new Template(\"Template.quiz\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"quiz well well-lg\",\n    \"data-id\": function() {\n      return Spacebars.mustache(view.lookup(\"_id\"));\n    }\n  }, \"\\n\\t\\t\", HTML.H3(Blaze.View(\"lookup:question\", function() {\n    return Spacebars.mustache(view.lookup(\"question\"));\n  })), \"\\n\\t\\t\", Blaze.Each(function() {\n    return Spacebars.dataMustache(view.lookup(\"indexedArray\"), view.lookup(\"alternatives\"));\n  }, function() {\n    return [ \"\\n\\t\\t\", HTML.A({\n      href: \"#\",\n      class: \"vote btn btn-primary btn-block\",\n      \"data-id\": function() {\n        return Spacebars.mustache(view.lookup(\"_index\"));\n      }\n    }, \"\\n\\t\\t \", HTML.SPAN({\n      class: \"votes pull-right\"\n    }, Blaze.View(\"lookup:votes\", function() {\n      return Spacebars.mustache(view.lookup(\"votes\"));\n    })), \"\\n\\t\\t \", HTML.SPAN({\n      class: \"text\"\n    }, Blaze.View(\"lookup:text\", function() {\n      return Spacebars.mustache(view.lookup(\"text\"));\n    })), \"\\n\\t\\t\"), \" \\n\\t\" ];\n  }), \"\\n\\t \");\n}));\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"app.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/components/app.js                                                                  //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\nTemplate.body.helpers({\n  quizes: function () {\n    return Quiz.find();\n  }\n}); // add an index to each item \n\nUI.registerHelper('indexedArray', function (context, options) {\n  if (context) {\n    return context.map(function (item, index) {\n      item._index = index;\n      return item;\n    });\n  }\n});\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"quiz-mrbool-form.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/components/quiz-mrbool-form.js                                                     //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\nTemplate.formQuiz.events({\n  // handles the submit form\n  'submit form': function (event) {\n    // prevents the form to send more than once\n    event.preventDefault(); // retrieve the form data \n\n    var newQuiz = {\n      pergunta: event.target.question.value,\n      alternatives: [{\n        text: event.target.option1.value,\n        votes: 0\n      }, {\n        text: event.target.option2.value,\n        votes: 0\n      }, {\n        text: event.target.option3.value,\n        votes: 0\n      }]\n    }; // create the new quiz\n\n    Quiz.insert(newQuiz);\n  }\n});\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"quiz-mrbool.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/components/quiz-mrbool.js                                                          //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\nTemplate.quiz.events({\n  // event to handle the click on the option \n  'click .vote': function (event) {\n    // prevents double click \n    event.preventDefault(); // retrieve the quiz parent id \n\n    var idQuiz = $(event.currentTarget).parent('.quiz').data('id');\n    var idVote = $(event.currentTarget).data('id'); // create the increment object \n\n    var voteString = 'alternatives.' + idVote + '.votes';\n    var action = {};\n    action[voteString] = 1; // increment the number of votes for this option \n\n    Quiz.update({\n      _id: idQuiz\n    }, {\n      $inc: action\n    });\n  }\n});\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"template.app.body.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// client/template.app.body.js                                                               //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\n\nTemplate.body.addContent((function() {\n  var view = this;\n  return [ HTML.Raw(\"<!-- It's the quiz creation form here --> \\n\\t\"), HTML.DIV({\n    class: \"container\"\n  }, \" \\n\\t\\t\", HTML.DIV({\n    class: \"row\"\n  }, \" \\n\\t\\t\\t\", HTML.DIV({\n    class: \"col-md-6 col-md-offset-3\"\n  }, \" \\n\\t\\t\\t\\t\", Spacebars.include(view.lookupTemplate(\"formQuiz\")), \" \\n\\t\\t\\t\"), \" \\n\\t\\t\"), \" \\n\\t\"), HTML.Raw(\" \\n\\t <!-- Itera on quizes, displaying them -->\\n\\t \"), HTML.DIV({\n    class: \"quiz\"\n  }, \" \\n\\t  \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"quizes\"));\n  }, function() {\n    return [ \" \\n\\t   \", Spacebars.include(view.lookupTemplate(\"quiz\")), \" \\n\\t    \" ];\n  }), \" \\n\\t     \") ];\n}));\nMeteor.startup(Template.body.renderToDocument);\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"collections\":{\"quiz.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                           //\n// collections/quiz.js                                                                       //\n//                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                             //\nQuiz = new Mongo.Collection('quiz');\n///////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\"\n  ]\n});\nrequire(\"/client/components/template.quiz-mrbool-form.js\");\nrequire(\"/client/components/template.quiz-mrbool.js\");\nrequire(\"/client/template.app.body.js\");\nrequire(\"/client/components/app.js\");\nrequire(\"/client/components/quiz-mrbool-form.js\");\nrequire(\"/client/components/quiz-mrbool.js\");\nrequire(\"/collections/quiz.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/components/app.js","client/components/quiz-mrbool-form.js","client/components/quiz-mrbool.js","collections/quiz.js"],"names":["Template","body","helpers","quizes","Quiz","find","UI","registerHelper","context","options","map","item","index","_index","formQuiz","events","event","preventDefault","newQuiz","pergunta","target","question","value","alternatives","text","option1","votes","option2","option3","insert","quiz","idQuiz","$","currentTarget","parent","data","idVote","voteString","action","update","_id","$inc","Mongo","Collection"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,SAASC,IAAT,CAAcC,OAAd,CAAsB;AACrBC,UAAQ,YAAW;AAClB,WAAOC,KAAKC,IAAL,EAAP;AACA;AAHoB,CAAtB,E,CAMA;;AACAC,GAAGC,cAAH,CAAkB,cAAlB,EAAkC,UAASC,OAAT,EAAkBC,OAAlB,EAA2B;AAC5D,MAAID,OAAJ,EAAa;AACZ,WAAOA,QAAQE,GAAR,CAAY,UAASC,IAAT,EAAeC,KAAf,EAAsB;AACxCD,WAAKE,MAAL,GAAcD,KAAd;AACA,aAAOD,IAAP;AACC,KAHK,CAAP;AAIA;AACD,CAPD,E;;;;;;;;;;;ACPAX,SAASc,QAAT,CAAkBC,MAAlB,CAAyB;AACzB;AACA,iBAAe,UAASC,KAAT,EAAgB;AAC/B;AACAA,UAAMC,cAAN,GAF+B,CAG/B;;AACA,QAAIC,UAAU;AACdC,gBAAUH,MAAMI,MAAN,CAAaC,QAAb,CAAsBC,KADlB;AAEdC,oBAAc,CACd;AAAEC,cAAMR,MAAMI,MAAN,CAAaK,OAAb,CAAqBH,KAA7B;AAAoCI,eAAO;AAA3C,OADc,EAEd;AAAEF,cAAMR,MAAMI,MAAN,CAAaO,OAAb,CAAqBL,KAA7B;AAAoCI,eAAO;AAA3C,OAFc,EAGd;AAAEF,cAAMR,MAAMI,MAAN,CAAaQ,OAAb,CAAqBN,KAA7B;AAAoCI,eAAO;AAA3C,OAHc;AAFA,KAAd,CAJ+B,CAa/B;;AACAtB,SAAKyB,MAAL,CAAYX,OAAZ;AACC;AAjBwB,CAAzB,E;;;;;;;;;;;ACAAlB,SAAS8B,IAAT,CAAcf,MAAd,CAAqB;AACrB;AACA,iBAAe,UAASC,KAAT,EAAgB;AAC/B;AACAA,UAAMC,cAAN,GAF+B,CAG/B;;AACA,QAAIc,SAASC,EAAEhB,MAAMiB,aAAR,EAAuBC,MAAvB,CAA8B,OAA9B,EAAuCC,IAAvC,CAA4C,IAA5C,CAAb;AACA,QAAIC,SAASJ,EAAEhB,MAAMiB,aAAR,EAAuBE,IAAvB,CAA4B,IAA5B,CAAb,CAL+B,CAM/B;;AACA,QAAIE,aAAa,kBAAkBD,MAAlB,GAA2B,QAA5C;AACA,QAAIE,SAAS,EAAb;AACAA,WAAOD,UAAP,IAAqB,CAArB,CAT+B,CAU/B;;AACAjC,SAAKmC,MAAL,CACC;AAAEC,WAAKT;AAAP,KADD,EAEC;AAAEU,YAAMH;AAAR,KAFD;AAIC;AAjBoB,CAArB,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAAlC,OAAO,IAAIsC,MAAMC,UAAV,CAAqB,MAArB,CAAP,C","file":"/app.js","sourcesContent":["Template.body.helpers({\r\n\tquizes: function() { \r\n\t\treturn Quiz.find();\r\n\t}\r\n});\r\n\r\n// add an index to each item \r\nUI.registerHelper('indexedArray', function(context, options) {\r\n\tif (context) {\r\n\t\treturn context.map(function(item, index) {\r\n\t\t\titem._index = index; \r\n\t\t\treturn item; \r\n\t\t });\r\n\t}\r\n});\r\n\r\n","Template.formQuiz.events({\r\n// handles the submit form\r\n'submit form': function(event) { \r\n// prevents the form to send more than once\r\nevent.preventDefault(); \r\n// retrieve the form data \r\nvar newQuiz = { \r\npergunta: event.target.question.value, \r\nalternatives: [\r\n{ text: event.target.option1.value, votes: 0 }, \r\n{ text: event.target.option2.value, votes: 0 }, \r\n{ text: event.target.option3.value, votes: 0 } \r\n] \r\n}; \r\n\r\n// create the new quiz\r\nQuiz.insert(newQuiz);\r\n} \r\n});\r\n","Template.quiz.events({\r\n// event to handle the click on the option \r\n'click .vote': function(event) { \r\n// prevents double click \r\nevent.preventDefault(); \r\n// retrieve the quiz parent id \r\nvar idQuiz = $(event.currentTarget).parent('.quiz').data('id'); \r\nvar idVote = $(event.currentTarget).data('id'); \r\n// create the increment object \r\nvar voteString = 'alternatives.' + idVote + '.votes'; \r\nvar action = {}; \r\naction[voteString] = 1; \r\n// increment the number of votes for this option \r\nQuiz.update( \r\n\t{ _id: idQuiz },\r\n\t{ $inc: action }\r\n\t);\r\n}\r\n});\r\n","Quiz = new Mongo.Collection('quiz');"]}}]
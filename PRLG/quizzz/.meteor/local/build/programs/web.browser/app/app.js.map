{"version":3,"sources":["meteor://ðŸ’»app/client/components/app.js","meteor://ðŸ’»app/client/components/quiz-mrbool-form.js","meteor://ðŸ’»app/client/components/quiz-mrbool.js","meteor://ðŸ’»app/collections/quiz.js"],"names":["Template","body","helpers","quizes","Quiz","find","UI","registerHelper","context","options","map","item","index","_index","formQuiz","events","event","preventDefault","newQuiz","pergunta","target","question","value","alternatives","text","option1","votes","option2","option3","insert","quiz","idQuiz","$","currentTarget","parent","data","idVote","voteString","action","update","_id","$inc","Mongo","Collection"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,SAASC,IAAT,CAAcC,OAAd,CAAsB;AACrBC,UAAQ,YAAW;AAClB,WAAOC,KAAKC,IAAL,EAAP;AACA;AAHoB,CAAtB,E,CAMA;;AACAC,GAAGC,cAAH,CAAkB,cAAlB,EAAkC,UAASC,OAAT,EAAkBC,OAAlB,EAA2B;AAC5D,MAAID,OAAJ,EAAa;AACZ,WAAOA,QAAQE,GAAR,CAAY,UAASC,IAAT,EAAeC,KAAf,EAAsB;AACxCD,WAAKE,MAAL,GAAcD,KAAd;AACA,aAAOD,IAAP;AACC,KAHK,CAAP;AAIA;AACD,CAPD,E;;;;;;;;;;;ACPAX,SAASc,QAAT,CAAkBC,MAAlB,CAAyB;AACzB;AACA,iBAAe,UAASC,KAAT,EAAgB;AAC/B;AACAA,UAAMC,cAAN,GAF+B,CAG/B;;AACA,QAAIC,UAAU;AACdC,gBAAUH,MAAMI,MAAN,CAAaC,QAAb,CAAsBC,KADlB;AAEdC,oBAAc,CACd;AAAEC,cAAMR,MAAMI,MAAN,CAAaK,OAAb,CAAqBH,KAA7B;AAAoCI,eAAO;AAA3C,OADc,EAEd;AAAEF,cAAMR,MAAMI,MAAN,CAAaO,OAAb,CAAqBL,KAA7B;AAAoCI,eAAO;AAA3C,OAFc,EAGd;AAAEF,cAAMR,MAAMI,MAAN,CAAaQ,OAAb,CAAqBN,KAA7B;AAAoCI,eAAO;AAA3C,OAHc;AAFA,KAAd,CAJ+B,CAa/B;;AACAtB,SAAKyB,MAAL,CAAYX,OAAZ;AACC;AAjBwB,CAAzB,E;;;;;;;;;;;ACAAlB,SAAS8B,IAAT,CAAcf,MAAd,CAAqB;AACrB;AACA,iBAAe,UAASC,KAAT,EAAgB;AAC/B;AACAA,UAAMC,cAAN,GAF+B,CAG/B;;AACA,QAAIc,SAASC,EAAEhB,MAAMiB,aAAR,EAAuBC,MAAvB,CAA8B,OAA9B,EAAuCC,IAAvC,CAA4C,IAA5C,CAAb;AACA,QAAIC,SAASJ,EAAEhB,MAAMiB,aAAR,EAAuBE,IAAvB,CAA4B,IAA5B,CAAb,CAL+B,CAM/B;;AACA,QAAIE,aAAa,kBAAkBD,MAAlB,GAA2B,QAA5C;AACA,QAAIE,SAAS,EAAb;AACAA,WAAOD,UAAP,IAAqB,CAArB,CAT+B,CAU/B;;AACAjC,SAAKmC,MAAL,CACC;AAAEC,WAAKT;AAAP,KADD,EAEC;AAAEU,YAAMH;AAAR,KAFD;AAIC;AAjBoB,CAArB,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAAlC,OAAO,IAAIsC,MAAMC,UAAV,CAAqB,MAArB,CAAP,C","file":"/app.js","sourcesContent":["Template.body.helpers({\r\n\tquizes: function() { \r\n\t\treturn Quiz.find();\r\n\t}\r\n});\r\n\r\n// add an index to each item \r\nUI.registerHelper('indexedArray', function(context, options) {\r\n\tif (context) {\r\n\t\treturn context.map(function(item, index) {\r\n\t\t\titem._index = index; \r\n\t\t\treturn item; \r\n\t\t });\r\n\t}\r\n});\r\n\r\n","Template.formQuiz.events({\r\n// handles the submit form\r\n'submit form': function(event) { \r\n// prevents the form to send more than once\r\nevent.preventDefault(); \r\n// retrieve the form data \r\nvar newQuiz = { \r\npergunta: event.target.question.value, \r\nalternatives: [\r\n{ text: event.target.option1.value, votes: 0 }, \r\n{ text: event.target.option2.value, votes: 0 }, \r\n{ text: event.target.option3.value, votes: 0 } \r\n] \r\n}; \r\n\r\n// create the new quiz\r\nQuiz.insert(newQuiz);\r\n} \r\n});\r\n","Template.quiz.events({\r\n// event to handle the click on the option \r\n'click .vote': function(event) { \r\n// prevents double click \r\nevent.preventDefault(); \r\n// retrieve the quiz parent id \r\nvar idQuiz = $(event.currentTarget).parent('.quiz').data('id'); \r\nvar idVote = $(event.currentTarget).data('id'); \r\n// create the increment object \r\nvar voteString = 'alternatives.' + idVote + '.votes'; \r\nvar action = {}; \r\naction[voteString] = 1; \r\n// increment the number of votes for this option \r\nQuiz.update( \r\n\t{ _id: idQuiz },\r\n\t{ $inc: action }\r\n\t);\r\n}\r\n});\r\n","Quiz = new Mongo.Collection('quiz');"]}